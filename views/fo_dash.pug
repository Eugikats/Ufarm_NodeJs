doctype html

head

  meta(charset='UTF-8')

  meta(http-equiv='X-UA-Compatible' content='IE=edge')

  link(rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css' integrity='sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm' crossorigin='anonymous')

  meta(name='viewport' content='width=device-width, initial-scale=1.0')

  title FO dashboard

.container
  br
  h3 Welcome back!
  -//button logs you out and sends you to the login page
  a.btn.btn-success(href='/uf_register', role='button', style='background-color: green;') Add Urban Farmer
  a.btn.btn-success(href='/order_dash', role='button', style='background-color: green;') View orders
  a.btn.btn-success(href='/fo_products_dash', role='button', style='background-color: green; margin:10px;') View products 
  form(action="/logout" method="POST")
    button.btn(type="submit" width="100px" style='margin-bottom:10px;') Signout
    
  fieldset 
    table.table
        thead.thead-dark
            tr

                th(scope='col') Firstname
                th(scope='col') Lastname
                th(scope='col') Othernames
                th(scope='col') Gender
                th(scope='col') DOB
                th(scope='col') Age
                th(scope='col') Ward
                th(scope='col') Activites
                th(scope='col') Phonenumber
                th(scope='col') Uniquenumber
                th(scope='col') Edit
                
                
        tbody
            if ufs.length
                each uf in ufs
                    tr          
                        td #{uf.firstname}
                        td #{uf.lastname}
                        td #{uf.othernames}
                        td #{uf.gender}
                        td #{uf.dob}
                        - let currentDate = new Date();
                        - let dob = new Date(uf.dob);
                        - let ageInMs = currentDate - dob;
                        - let ageInYears = Math.floor(ageInMs / (365 * 24 * 60 * 60 * 1000));
                        td #{ageInYears}
                        td #{uf.ward}
                        td #{uf.activities}
                        td #{uf.phonenumber}
                        td #{uf.uniquenumber}
                        form(method="post" )
                        td 
                          a.btn.btn-dark.btn-block(href="/uf_edit/"+uf.id) Edit
                        
                            //- we send info to the backend through forms
                         
            else
                p There are no Urban Farmers in the database 
    
            

           

            


script(src='https://code.jquery.com/jquery-3.2.1.slim.min.js' integrity='sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN' crossorigin='anonymous')

script(src='https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js' integrity='sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q' crossorigin='anonymous')

script(src='https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js' integrity='sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl' crossorigin='anonymous')